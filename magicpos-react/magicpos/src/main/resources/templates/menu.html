<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/user/main_layout}">
<head>
    <link rel="stylesheet" th:href="@{/css/menu.css}">
    <!-- TossPayments Í≤∞Ï†ú Ïä§ÌÅ¨Î¶ΩÌä∏ Ï∂îÍ∞Ä -->
    <script src="https://js.tosspayments.com/v1/payment"></script>
    <meta name="_csrf" th:content="${_csrf.token}"/>
    <meta name="_csrf_header" th:content="${_csrf.headerName}"/>    
</head>
<body layout:fragment="content" th:attr="data-seat-id=${usageInfo.seat_id}">
    <div class="container">
        <div class="main-panel">
            <!-- ÌëúÏÉÅ Î©îÎâ¥ -->
            <div class="top-menu">
                <button class="icon-button">
                    <img th:src="@{/images/Îí§Î°úÍ∞ÄÍ∏∞.png}" alt="Îí§Î°úÍ∞ÄÍ∏∞">
                </button>

                <div class="menu-tabs">
                    <button th:each="category : ${categories}"
                            th:text="${category.cName}"
                            th:classappend="${category.no} == ${selectedCategory} ? 'active' : ''"
                            th:onclick="'location.href=\'/menu?selectedCategory=' + ${category.no} + '\''">
                    </button>
                </div>
                
                <button class="icon-button">
                    <img th:src="@{/images/Îã§ÏùåÌéòÏù¥ÏßÄ.png}" alt="Îã§ÏùåÌéòÏù¥ÏßÄ">
                </button>
                
                <form action="/menu" method="get" class="search-form">
                    <input type="text" name="keyword" placeholder="ÏÉÅÌíàÎ™Ö Í≤ÄÏÉâ">
                    <button type="submit">
                        <img th:src="@{/images/Í≤ÄÏÉâ.png}">
                    </button>
                </form>
            </div>
            
            <div class="product-list">
                <div class="grid-container">
                    <div th:each="product : ${products}" class="product-card">
                        <div class="product-inner">
                            <div class="product-front">
                                <img th:src="@{${product.imgPath}}" class="product-image">
                                <div class="product-info">
                                    <div th:text="${product.pName}">ÏÉÅÌíàÎ™Ö</div>
                                    <div th:text="${#numbers.formatInteger(product.pPrice, 3, 'COMMA') + 'Ïõê'}">Í∞ÄÍ≤©</div>
                                </div>
                            </div>
                            <div class="product-back">
                                <div class="back-frame">
                                    <p th:text="${product.description}">ÏÉÅÌíà ÏÑ§Î™Ö</p>
                                </div>
                                <!-- Ïû¨Í≥†Í∞Ä ÏûàÏùÑ ÎïåÎßå 'Îã¥Í∏∞' Î≤ÑÌäº Î≥¥Ïó¨Ï£ºÍ∏∞ -->
                                <div th:if="${product.stock > 0}">
                                    <form method="post" action="/carts/add">
                                        <input type="hidden" name="pNo" th:value="${product.no}">
                                        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                                        <button type="submit" class="add-cart-btn">Îã¥Í∏∞</button>
                                    </form>
                                </div>

                                <!-- Ïû¨Í≥†Í∞Ä 0Ïù¥Î©¥ 'ÌíàÏ†à' ÌëúÏãú -->
                                <div th:unless="${product.stock > 0}">
                                    <button class="add-cart-btn sold-out" disabled>ÌíàÏ†à</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="side-panel">
            <div class="seat-info">
                <div>Ï¢åÏÑùÎ≤àÌò∏ <strong th:text="${usageInfo.seat_id}">50</strong></div>
                <button id="openModalBtn">Ï£ºÎ¨∏ÎÇ¥Ïó≠Î≥¥Í∏∞</button>
            </div>

            <!-- Ï£ºÎ¨∏ Ìèº ÏãúÏûë -->
            <div class="cart-section">
                <div class="cart-items">
                    <div th:each="cart, cartStat : ${cartList != null ? cartList : {}}" class="cart-item">
                        <div class="cart-item-left">
                            <div th:text="${cart.p_name} ?: 'Ïù¥Î¶ÑÏóÜÏùå'">ÏÉÅÌíàÏù¥Î¶Ñ</div>
                            <div class="quantity-control">
                                <!-- ÏàòÎüâ Í∞êÏÜå/Ï¶ùÍ∞Ä/ÏÇ≠Ï†ú formÏùÄ Ï£ºÎ¨∏ form Î∞ñÏóê ÏúÑÏπò -->
                                <form action="/carts/decrease" method="post">
                                    <input type="hidden" name="pNo" th:value="${cart.p_no}" />
                                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                                    <button type="submit" class="cartcontrolBtn">
                                        <img th:src="@{/images/ÎßàÏù¥ÎÑàÏä§ ÌïòÏñÄÏÉâ.png}" alt="Í∞êÏÜå">
                                    </button>
                                </form>
                                <span th:text="${cart.quantity}">1</span>
                                <form action="/carts/increase" method="post">
                                    <input type="hidden" name="pNo" th:value="${cart.p_no}" />
                                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                                    <button type="submit" class="cartcontrolBtn">
                                        <img th:src="@{/images/ÌîåÎü¨Ïä§ ÎÖ∏ÎûÄÏÉâ.png}" alt="Ï¶ùÍ∞Ä">
                                    </button>
                                </form>
                            </div>
                        </div>
                        <div class="cart-item-right">
                            <div th:text="${(cart.p_price != null and cart.quantity != null) ? #numbers.formatInteger(cart.p_price * cart.quantity, 3, 'COMMA') + 'Ïõê' : '0Ïõê'}">Í∞ÄÍ≤©</div>
                            <form action="/carts/delete" method="post">
                                <input type="hidden" name="cNo" th:value="${cart['no']}" />
                                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                                <button class="deleteBtn">‚úï</button>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="total-price">
                    Ï¥ù Ï£ºÎ¨∏Í∏àÏï° <span th:text="${#numbers.formatInteger(totalPrice, 0, 'COMMA')}" style="font-weight: bold;">16,000Ïõê</span>
                </div>
            </div>

            <!-- Ï£ºÎ¨∏ ÌèºÏùÄ cart-section ÏïÑÎûòÏóê ÏúÑÏπò, cartList Ï†ïÎ≥¥Î•º hidden inputÏúºÎ°ú Ï†ÑÎã¨ -->
            <form id="orderForm" action="/users/orders/create" method="post">
                <input type="hidden" name="seatId" th:value="${usageInfo.seat_id}" />
                <div th:each="cart, cartStat : ${cartList != null ? cartList : {}}">
                    <input type="hidden" name="pNoList" th:value="${cart.p_no}" />
                    <input type="hidden" name="quantityList" th:value="${cart.quantity}" />
                    <input type="hidden" name="pNameList" th:value="${cart.p_name}" />
                </div>
                <input type="hidden" name="totalPrice" th:value="${totalPrice}" />
                <div class="payment-methods">
                    <label><input type="radio" name="payment" value="ÌòÑÍ∏à" required>ÌòÑÍ∏à</label>
                    <label><input type="radio" name="payment" value="Ïπ¥Îìú">Ïπ¥Îìú</label>
                    <label><input type="radio" name="payment" value="Ïπ¥Ïπ¥Ïò§ÌéòÏù¥">üí¨<br>QR Í≤∞Ï†ú</label>
                </div>

                <div class="cash-options">
                    <div class="cash-quick">
                        <label><input type="radio" name="cash" value="50000" class="cash-option">5ÎßåÏõê</label>
                        <label><input type="radio" name="cash" value="10000" class="cash-option">1ÎßåÏõê</label>
                        <label><input type="radio" name="cash" value="5000" class="cash-option">5Ï≤úÏõê</label>
                        <label><input type="radio" name="cash" value="1000" class="cash-option">1Ï≤úÏõê</label>
                    </div>
                    <div class="cash-custom">
                        <label><input type="radio" name="cash" value="auto" class="cash-option">Í∏àÏï°Ïóê ÎßûÍ≤å</label>
                        <label><input type="radio" name="cash" value="manual" class="cash-option">ÏßÅÏ†ë ÏûÖÎ†•</label>
                        <input type="text" name="cashManual" />
                    </div>
                </div>
                <input type="text" class="request-input" name="message" maxlength="50" placeholder="ÏöîÏ≤≠ÏÇ¨Ìï≠ÏùÄ 50Ïûê ÍπåÏßÄ ÏûÖÎ†•Ìï† Ïàò ÏûàÏäµÎãàÎã§.">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                <button class="order-button" type="button">Ï£ºÎ¨∏ÌïòÍ∏∞</button>
            </form>
            <!-- Ï£ºÎ¨∏ Ìèº ÎÅù -->
        </div>
    </div>

<!-- ÏöîÍ∏àÏ†ú Íµ¨Îß§ Î™®Îã¨ -->
<div class="ticket-modal-bg fade" id="ticketModal" style="display: none;">
  <div class="ticket-modal-content">
    <!-- <th:block th:if="${ usageInfo != null && usageInfo.user_no != null }">
        <input type="hidden" id="user-no" th:value="${usageInfo.user_no} ?: ''" />
    </th:block> -->
    <input type="hidden" id="user-no" th:value="${usageInfo.user_no} ?: ''" />
    <span class="ticket-modal-close-btn" onclick="closeTicketModal()">√ó</span>
    <div class="ticket_con">
      <h2>ÏöîÍ∏àÏ†ú Íµ¨Îß§</h2>
      <div class="plan-grid">
        <div class="plan-card" 
             th:each="ticket : ${ticketList}"
             th:data-name="'ÌöåÏõê ' + ${ticket.price} + 'ÏõêÍ∂å'"
             th:data-price="${ticket.price}"
             th:data-time="${ticket.time}"
             th:data-ticket-no="${ticket.no}"
             >
          <div class="plan-title" th:text="'ÌöåÏõê ' + ${#numbers.formatInteger(ticket.price, 0)} + 'ÏõêÍ∂å'"></div>
          <div class="plan-info">
            <div class="plan-time" th:text="${ticket.time} + ':00'">00:00</div>
            <div class="plan-price" th:text="${#numbers.formatInteger(ticket.price, 0)} + 'Ïõê'">1,000Ïõê</div>
          </div>
        </div>
      </div>
    </div>
    <div class="ticket-modal-side">
        <div class="ticket-section">
            <div class="ticket-item">    
            </div>
        </div>
        <button class="ticket-payment-btn" type="submit">Í≤∞Ï†úÌïòÍ∏∞</button>
    </div>
  </div>
</div>

<!-- Ï¢åÏÑù ÏÑ†ÌÉù Î™®Îã¨ -->
<div class="seat-modal-bg fade" id="seatModal" style="display: none;">
  <div class="seat-modal-content">
    <span class="seat-modal-close-btn" onclick="closeSeatModal()">√ó</span>
    <h2>Ï¢åÏÑù ÏÑ†ÌÉù</h2>
    <div class="seat-grid" id="seatGrid">
      <!-- S1~S34 Î≤ÑÌäºÏù¥ JSÎ°ú ÎèôÏ†ÅÏúºÎ°ú ÏÉùÏÑ±Îê® -->
    </div>
    <button id="seatSelectBtn" disabled>Ï¢åÏÑù ÏÑ†ÌÉù ÏôÑÎ£å</button>
  </div>
</div>

<!-- ÌÜ†Ïä§ÌéòÏù¥Î®ºÏ∏† Ïä§ÌÅ¨Î¶ΩÌä∏ Ï∂îÍ∞Ä -->
<script th:inline="javascript">
    const clientKey = "test_ck_ZLKGPx4M3MGPnBZkRAlwrBaWypv1"; // ÌÖåÏä§Ìä∏Ïö© client key
    const tossPayments = TossPayments(clientKey);

    // Ï¢åÏÑù ÏÑ†ÌÉù Î™®Îã¨ Í¥ÄÎ†® Ïä§ÌÅ¨Î¶ΩÌä∏
    document.addEventListener('DOMContentLoaded', function() {
      // Ï¢åÏÑù ÎØ∏ÏÑ†ÌÉù ÏÉÅÌÉúÎùºÎ©¥ Î™®Îã¨ ÏûêÎèô ÎÖ∏Ï∂ú
      var seatId = document.body.dataset.seatId;
      if (!seatId) {
        document.getElementById('seatModal').style.display = 'block';
        loadReservedSeats();
      }
    });

    function closeSeatModal() {
      document.getElementById('seatModal').style.display = 'none';
    }

    // Ï¢åÏÑù Î≤ÑÌäº ÎèôÏ†Å ÏÉùÏÑ± Î∞è ÏòàÏïΩÏ¢åÏÑù ÎπÑÌôúÏÑ±Ìôî
    function loadReservedSeats() {
      fetch('/api/seats/reserved')
        .then(res => res.json())
        .then(data => {
          const reserved = data.reservedSeats || [];
          const seatGrid = document.getElementById('seatGrid');
          seatGrid.innerHTML = '';
          for (let i = 1; i <= 34; i++) {
            const seatId = 'S' + i;
            const btn = document.createElement('button');
            btn.textContent = seatId;
            btn.className = 'seat-btn';
            if (reserved.includes(seatId)) {
              btn.disabled = true;
              btn.classList.add('reserved');
            }
            btn.onclick = function() {
              document.querySelectorAll('.seat-btn').forEach(b => b.classList.remove('selected'));
              btn.classList.add('selected');
              document.getElementById('seatSelectBtn').disabled = false;
              document.getElementById('seatSelectBtn').dataset.seatId = seatId;
            };
            seatGrid.appendChild(btn);
          }
        });
    }

    // Ï¢åÏÑù ÏÑ†ÌÉù ÏôÑÎ£å Î≤ÑÌäº ÌÅ¥Î¶≠ Ïãú ÏÑúÎ≤ÑÎ°ú ÏòàÏïΩ ÏöîÏ≤≠
    document.getElementById('seatSelectBtn').onclick = function() {
      const seatId = this.dataset.seatId;
      fetch('/api/seats/reserve', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'X-CSRF-TOKEN': document.querySelector('meta[name="_csrf"]').content
        },
        body: JSON.stringify({ seatId: seatId })
      })
      .then(res => res.json())
      .then(data => {
        if (data.success) {
          location.reload();
        } else {
          alert(data.message || 'Ï¢åÏÑù ÏòàÏïΩ Ïã§Ìå®');
          loadReservedSeats();
        }
      });
    };
</script>

<!-- ÏöîÍ∏àÏ†ú Íµ¨Îß§ Î™®Îã¨ ÎÅù -->

<!-- Í≤∞Ï†ú ÏôÑÎ£å Î™®Îã¨ -->
<div class="paysucc-modal-bg fade" id="paymentSuccessModal" style="display: none;">
  <div class="paysucc-modal-content">
    <div class="paysucc-modal-body">
    <img th:src="@{/images/clock.png}">
      <h3>ÏöîÍ∏àÏ†ú Íµ¨Îß§Í∞Ä ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§.</h3>
      <p>ÏûîÏó¨ Ïù¥Ïö© ÏãúÍ∞ÑÏù¥ Ï∂îÍ∞ÄÎêòÏóàÏäµÎãàÎã§.<br>Ï¶êÍ±∞Ïö¥ Ïù¥Ïö© ÎêòÏÑ∏Ïöî!</p>
    </div>
    <div class="paysucc-modal-footer">
      <button onclick="closeAllModals()">ÌôïÏù∏</button>
    </div>
  </div>
</div>
    <script th:src="@{/js/userscript.js}"></script>
        <script>
        document.addEventListener("DOMContentLoaded", () => {
        const btn = document.getElementById("openTicketBtn");
        if (btn) {
            btn.addEventListener("click", () => {
            const modal = document.getElementById("ticketModal");
            modal.style.display = "flex";
            modal.classList.remove("fade-out");
            });
        } else {
            console.log("Î≤ÑÌäº ÎòêÎäî Î™®Îã¨Ïù¥ ÏóÜÏäµÎãàÎã§. ", btn, modal);
        }
        });
    </script>


    <script>
        // ÏöîÍ∏àÏ†ú Í≤∞Ï†ú ÏôÑÎ£å Î™®Îã¨ Ïó¥Í≥† Îã´Í∏∞ 
        function showPaymentSuccessModal() {
            document.getElementById("paymentSuccessModal").style.display = "flex";
            document.getElementById("paymentSuccessModal").classList.remove("fade-out");
        }
    </script>

    <script>
        // Î™®Îì† Î™®Îã¨ Îã´Í∏∞ (ÏöîÍ∏àÏ†ú Íµ¨Îß§ + Í≤∞Ï†ú Î™®Îã¨ ÎëòÎã§)
        function closeAllModals() {
            const modals = [document.getElementById("paymentSuccessModal"), document.getElementById("ticketModal")];

            modals.forEach(modal => {
                // fade-out ÌÅ¥ÎûòÏä§ Ï∂îÍ∞Ä
                modal.classList.add("fade-out");

                // Ìä∏ÎûúÏßÄÏÖò ÎÅùÎÇòÎ©¥ display: none Ï≤òÎ¶¨
                modal.addEventListener("transitionend", function handler() {
                modal.style.display = "none";
                modal.classList.remove("fade-out");
                modal.removeEventListener("transitionend", handler); // Ï§ëÎ≥µ Î∞©ÏßÄ
                });
            });
        }
    </script>

    <script th:inline="javascript">
    window.orderSuccess = [[${orderSuccess}]];
    </script>
    <script th:if="${error}" th:inline="javascript">
        alert([[${error}]]);
    </script>

    <script th:inline="javascript">
    const userNo = /*[[${usageInfo.user_no}]]*/ null;
    </script>

    <!-- Í≤∞Ï†ú js -->
    <script>
    document.addEventListener('DOMContentLoaded', () => {
    const orderForm = document.getElementById('orderForm');
    const orderBtn = orderForm.querySelector('.order-button');
    const csrfToken = document.querySelector('meta[name="_csrf"]').getAttribute('content');
    const csrfHeader = document.querySelector('meta[name="_csrf_header"]').getAttribute('content');
    const tossPayments = TossPayments("test_ck_ZLKGPx4M3MGPnBZkRAlwrBaWypv1");

    orderBtn.addEventListener('click', async function (e) {
        e.preventDefault(); // Í∏∞Ï°¥ Ìèº Ï†úÏ∂ú ÎßâÍ∏∞

        const paymentMethod = document.querySelector('input[name="payment"]:checked')?.value;
        const selectedCash = document.querySelector('input[name="cash"]:checked')?.value;
        const manualInput = document.querySelector('input[name="cashManual"]');
        if (!paymentMethod) {
        alert("Í≤∞Ï†ú ÏàòÎã®ÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.");
        return;
        }

        // ÌòÑÍ∏àÏù∏Îç∞ ÏïÑÎ¨¥ Í∏àÏï°ÎèÑ ÏÑ†ÌÉù Ïïà ÌñàÏùÑ ÎïåÎèÑ ÎßâÏïÑÏ£ºÍ∏∞
        if (paymentMethod === 'ÌòÑÍ∏à' && !selectedCash) {
            e.preventDefault();
            alert('Í≤∞Ï†ú Í∏àÏï°ÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî!');
            return;
        }
        // "ÏßÅÏ†ë ÏûÖÎ†•" ÏÑ†ÌÉùÌñàÎäîÎç∞ Í∞íÏù¥ ÏóÜÏúºÎ©¥ ÎßâÏïÑÏ£ºÍ∏∞
        if (paymentMethod === 'ÌòÑÍ∏à' && selectedCash === 'manual') {
            if (!manualInput.value || manualInput.value.trim() === '') {
                e.preventDefault(); // Ï†úÏ∂ú ÎßâÍ∏∞
                alert('Í∏àÏï°ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî!');
                manualInput.focus();
                return;
            }
        }
        if (paymentMethod === "ÌòÑÍ∏à") {
        orderForm.submit();
        return;
        }

        const seatId = orderForm.querySelector('input[name="seatId"]').value;
        const totalPrice = orderForm.querySelector('input[name="totalPrice"]').value;
        const pNos = [...orderForm.querySelectorAll('input[name="pNoList"]')].map(el => el.value);
        const quantities = [...orderForm.querySelectorAll('input[name="quantityList"]')].map(el => el.value);
        const pNames = [...orderForm.querySelectorAll('input[name="pNameList"]')].map(el => el.value);

        try {
        // ‚úÖ 1. ÏÑ∏ÏÖòÏóê Ï£ºÎ¨∏ Îç∞Ïù¥ÌÑ∞ ÎØ∏Î¶¨ Ï†ÄÏû•
        await fetch('/users/orders/temp', {
            method: 'POST',
            headers: {
            'Content-Type': 'application/json',
            [csrfHeader]: csrfToken
            },
            body: JSON.stringify({
            seatId,
            pNoList: pNos,
            quantityList: quantities,
            pNameList: pNames,
            totalPrice,
            payment: paymentMethod,
            userNo
            })
        });

        // ‚úÖ 2. Í≤∞Ï†ú Ï†ïÎ≥¥ ÏöîÏ≤≠
        const res = await fetch('/users/orders/payment-info', {
            method: 'POST',
            headers: {
            'Content-Type': 'application/json',
            [csrfHeader]: csrfToken
            },
            body: JSON.stringify({
            seatId,
            pNoList: pNos,
            quantityList: quantities,
            pNameList: pNames,
            totalPrice,
            payment: paymentMethod,
            userNo 
            })
        });

        if (!res.ok) {
            alert("Í≤∞Ï†ú Ï†ïÎ≥¥ ÏöîÏ≤≠ Ïã§Ìå®");
            return;
        }

        const paymentInfo = await res.json();

        tossPayments.requestPayment(paymentMethod, {
            amount: paymentInfo.amount,
            orderId: paymentInfo.orderId,
            orderName: paymentInfo.orderName,
            customerName: paymentInfo.customerName,
            successUrl: paymentInfo.successUrl,
            failUrl: paymentInfo.failUrl
        });

        } catch (err) {
        console.error("Í≤∞Ï†ú Ï§ë Ïò§Î•ò Î∞úÏÉù!", err);
        alert("Í≤∞Ï†ú ÎèÑÏ§ë Î¨∏Ï†úÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.");
        }
    });
    });
</script>

<script>
document.addEventListener("DOMContentLoaded", function() {
    // ÏÑúÎ≤ÑÏóêÏÑú Î∞õÏïÑÏò® Î∂Ñ Îã®ÏúÑ Í∞íÏùÑ Ï¥àÎ°ú Î≥ÄÌôò
    let usedTimeEl = document.getElementById('usedTime');
    let remainTimeEl = document.getElementById('remainTime');

    let usedSeconds = parseInt(usedTimeEl.dataset.usedMin, 10) * 60;
    let remainSeconds = parseInt(remainTimeEl.dataset.remainMin, 10) * 60;

    function pad(n) { return n < 10 ? '0' + n : n; }

    function formatTime(seconds) {
        const hrs = Math.floor(seconds / 3600);
        const mins = Math.floor((seconds % 3600) / 60);
        const secs = seconds % 60;
        return `${pad(hrs)}:${pad(mins)}:${pad(secs)}`;
    }

    function updateTimes() {
        usedTimeEl.textContent = formatTime(usedSeconds);
        remainTimeEl.textContent = remainSeconds > 0 ? formatTime(remainSeconds) : "ÎßåÎ£åÎê®";
        usedSeconds++;
        if (remainSeconds > 0) remainSeconds--;
    }

    updateTimes(); // ÏµúÏ¥à Ïã§Ìñâ
    setInterval(updateTimes, 1000); // 1Ï¥àÎßàÎã§ Í∞±Ïã†
});
</script>


</body>
</html>